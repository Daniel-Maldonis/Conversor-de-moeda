<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>Conversor de Moeda</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background: #f0f0f0;
        display: flex;
        justify-content: center;
        padding-top: 60px;
      }
      .container {
        background: #fff;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        width: 340px;
        text-align: center;
      }
      h2 {
        margin-bottom: 20px;
      }
      input,
      select,
      button {
        padding: 10px;
        font-size: 1em;
        margin: 10px 0;
        border: 1px solid #ccc;
        border-radius: 6px;
        width: 100%;
      }
      button {
        background: #007bff;
        color: white;
        cursor: pointer;
        border: none;
      }
      button:hover {
        background: #0056b3;
      }
      .resultado {
        margin-top: 20px;
        font-size: 1.2em;
        color: #333;
        min-height: 1.5em;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h2>Conversor de Moeda</h2>
      <input
        type="number"
        id="valor"
        placeholder="Valor a converter"
        min="0"
        step="any"
      />

      <select id="moedaOrigem">
        <option value="BRL">Real (BRL)</option>
        <option value="USD">Dólar (USD)</option>
        <option value="EUR">Euro (EUR)</option>
        <option value="GBP">Libra (GBP)</option>
        <option value="JPY">Iene (JPY)</option>
      </select>

      <select id="moedaDestino">
        <option value="USD">Dólar (USD)</option>
        <option value="BRL">Real (BRL)</option>
        <option value="EUR">Euro (EUR)</option>
        <option value="GBP">Libra (GBP)</option>
        <option value="JPY">Iene (JPY)</option>
      </select>

      <button id="converterBtn">Converter</button>

      <div class="resultado" id="resultado"></div>
    </div>

    <script>
      const valorInput = document.getElementById('valor')
      const moedaOrigem = document.getElementById('moedaOrigem')
      const moedaDestino = document.getElementById('moedaDestino')
      const resultado = document.getElementById('resultado')
      const btn = document.getElementById('converterBtn')

      btn.addEventListener('click', async () => {
        const valor = parseFloat(valorInput.value)
        const de = moedaOrigem.value
        const para = moedaDestino.value

        if (isNaN(valor) || valor <= 0) {
          resultado.textContent = 'Digite um valor válido.'
          return
        }

        if (de === para) {
          resultado.textContent = 'Escolha moedas diferentes para conversão.'
          return
        }

        resultado.textContent = 'Carregando...'

        try {
          const response = await fetch(
            `https://api.exchangerate.host/latest?base=${de}&symbols=${para}`
          )

          if (!response.ok) {
            throw new Error('Erro na resposta da API')
          }

          const data = await response.json()

          if (!data.rates || !data.rates[para]) {
            throw new Error('Dados inválidos da API')
          }

          const taxa = data.rates[para]
          const convertido = (valor * taxa).toFixed(2)

          resultado.textContent = `${valor} ${de} = ${convertido} ${para}`
        } catch (error) {
          resultado.textContent = 'Erro ao obter taxa de câmbio.'
          console.error('Erro na API:', error)
        }
      })
    </script>
  </body>
</html>
